# ============================================================================
# keymap.toml - yaziキーバインド設定
# ============================================================================
# デフォルトキーマップに追加するカスタムキーバインド

[mgr]
prepend_keymap = [
  # クイックジャンプ
  { on = ["g", "d"], run = "cd ~/dotfiles", desc = "Go to dotfiles" },
  { on = ["g", "h"], run = "cd ~", desc = "Go to home" },
  { on = ["g", "c"], run = "cd ~/.config", desc = "Go to config" },
  { on = ["g", "D"], run = "cd ~/Downloads", desc = "Go to Downloads" },
  { on = ["g", "w"], run = "cd ~/work", desc = "Go to work" },
  { on = ["g", "/"], run = "cd /", desc = "Go to root" },

  # ファイル操作
  { on = ["<C-n>"], run = "create", desc = "Create file/dir" },
  { on = ["<C-r>"], run = "rename --cursor=before_ext", desc = "Rename file" },

  # 選択
  { on = ["<Space>"], run = ["toggle", "visual_mode --unset", "arrow 1"], desc = "Toggle selection and move down" },
  { on = ["V"], run = "visual_mode", desc = "Enter visual mode" },

  # 表示切り替え
  { on = ["."], run = "hidden toggle", desc = "Toggle hidden files" },

  # ソート
  { on = ["s", "n"], run = "sort natural --reverse=no", desc = "Sort by name" },
  { on = ["s", "N"], run = "sort natural --reverse", desc = "Sort by name (reverse)" },
  { on = ["s", "s"], run = "sort size --reverse=no", desc = "Sort by size" },
  { on = ["s", "S"], run = "sort size --reverse", desc = "Sort by size (reverse)" },
  { on = ["s", "m"], run = "sort mtime --reverse=no", desc = "Sort by mtime" },
  { on = ["s", "M"], run = "sort mtime --reverse", desc = "Sort by mtime (reverse)" },

  # シェル連携
  { on = ["!"], run = "shell --block --confirm", desc = "Run shell command" },
]

[tasks]
prepend_keymap = [
  { on = ["<Esc>"], run = "close", desc = "Close task manager" },
]

[select]
prepend_keymap = [
  { on = ["<Esc>"], run = "close", desc = "Cancel selection" },
]

[input]
prepend_keymap = [
  { on = ["<Esc>"], run = "close", desc = "Cancel input" },
]

[completion]
prepend_keymap = [
  { on = ["<Tab>"], run = "close --submit", desc = "Submit completion" },
]

[help]
prepend_keymap = [
  { on = ["<Esc>"], run = "escape", desc = "Close help" },
  { on = ["q"], run = "close", desc = "Close help" },
]
